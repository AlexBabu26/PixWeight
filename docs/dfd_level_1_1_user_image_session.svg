<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 450" width="900" height="450">
  <style>
    text { font-family: Arial, sans-serif; font-size: 14px; }
    .title { font-size: 22px; font-weight: bold; }
    .entity { fill: white; stroke: black; stroke-width: 2; }
    .process { fill: white; stroke: black; stroke-width: 2; }
    .datastore { fill: white; stroke: black; stroke-width: 2; }
    .arrow { stroke: black; stroke-width: 1.5; fill: none; marker-end: url(#arrowhead); }
    .label { font-size: 11px; }
  </style>
  
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="black"/>
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="450" y="35" text-anchor="middle" class="title">LEVEL 1.1 USER - IMAGE UPLOAD &amp; SESSION CREATION</text>
  
  <!-- USER Entity -->
  <rect x="50" y="180" width="100" height="50" class="entity"/>
  <text x="100" y="210" text-anchor="middle">USER</text>
  
  <!-- Process: Image Upload & Session -->
  <ellipse cx="260" cy="205" rx="90" ry="45" class="process"/>
  <text x="260" y="195" text-anchor="middle">Image Upload</text>
  <text x="260" y="215" text-anchor="middle">&amp; Session</text>
  <text x="260" y="235" text-anchor="middle">Creation</text>
  
  <!-- Process: Upload Image -->
  <ellipse cx="480" cy="100" rx="80" ry="30" class="process"/>
  <text x="480" y="105" text-anchor="middle">Upload Image</text>
  
  <!-- Process: Validate Image -->
  <ellipse cx="480" cy="180" rx="80" ry="30" class="process"/>
  <text x="480" y="185" text-anchor="middle">Validate Image</text>
  
  <!-- Process: Identify Object (AI) -->
  <ellipse cx="480" cy="260" rx="80" ry="30" class="process"/>
  <text x="480" y="255" text-anchor="middle">Identify Object</text>
  <text x="480" y="275" text-anchor="middle">(AI Analysis)</text>
  
  <!-- Process: Generate Questions -->
  <ellipse cx="480" cy="340" rx="80" ry="30" class="process"/>
  <text x="480" y="335" text-anchor="middle">Generate</text>
  <text x="480" y="355" text-anchor="middle">Questions</text>
  
  <!-- Data Store: uploaded_images (open right box) -->
  <g>
    <line x1="700" y1="80" x2="700" y2="120" stroke="black" stroke-width="2"/>
    <line x1="700" y1="80" x2="850" y2="80" stroke="black" stroke-width="2"/>
    <line x1="700" y1="120" x2="850" y2="120" stroke="black" stroke-width="2"/>
    <text x="775" y="105" text-anchor="middle">uploaded_images</text>
  </g>
  
  <!-- Data Store: estimation_sessions (open right box) -->
  <g>
    <line x1="700" y1="240" x2="700" y2="280" stroke="black" stroke-width="2"/>
    <line x1="700" y1="240" x2="850" y2="240" stroke="black" stroke-width="2"/>
    <line x1="700" y1="280" x2="850" y2="280" stroke="black" stroke-width="2"/>
    <text x="775" y="265" text-anchor="middle">estimation_sessions</text>
  </g>
  
  <!-- Data Store: questions (open right box) -->
  <g>
    <line x1="700" y1="320" x2="700" y2="360" stroke="black" stroke-width="2"/>
    <line x1="700" y1="320" x2="850" y2="320" stroke="black" stroke-width="2"/>
    <line x1="700" y1="360" x2="850" y2="360" stroke="black" stroke-width="2"/>
    <text x="775" y="345" text-anchor="middle">questions</text>
  </g>
  
  <!-- Connection: USER to Image Upload Process -->
  <path d="M 150 205 L 170 205" class="arrow"/>
  
  <!-- Connections: Main Process to Sub-processes -->
  <path d="M 330 170 L 400 115" class="arrow"/>
  <path d="M 345 185 L 400 180" class="arrow"/>
  <path d="M 345 225 L 400 255" class="arrow"/>
  <path d="M 330 245 L 400 325" class="arrow"/>
  
  <!-- Connections: Processes to Data Stores -->
  <path d="M 560 100 L 700 100" class="arrow"/>
  <path d="M 560 260 L 700 260" class="arrow"/>
  <path d="M 560 340 L 700 340" class="arrow"/>
  
  <!-- Connection: Validate reads from uploaded_images -->
  <path d="M 560 170 L 650 130 L 700 115" class="arrow"/>
  
  <!-- Flow arrow between processes -->
  <path d="M 480 130 L 480 150" class="arrow"/>
  <path d="M 480 210 L 480 230" class="arrow"/>
  <path d="M 480 290 L 480 310" class="arrow"/>
  
  <!-- Page indicator -->
  <text x="450" y="430" text-anchor="middle" font-size="12" fill="#666">Page 7 - User Image Upload &amp; Session Creation DFD</text>
</svg>
